<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>moveit2: trajectory_processing::IterativeSplineParameterization Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">moveit2
   </div>
   <div id="projectbrief">The MoveIt Motion Planning Framework for ROS 2.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacetrajectory__processing.html">trajectory_processing</a></li><li class="navelem"><a class="el" href="classtrajectory__processing_1_1IterativeSplineParameterization.html">IterativeSplineParameterization</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classtrajectory__processing_1_1IterativeSplineParameterization-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">trajectory_processing::IterativeSplineParameterization Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class sets the timestamps of a trajectory to enforce velocity, acceleration constraints. Initial/final velocities and accelerations may be specified in the trajectory. Velocity and acceleration limits are specified in the model.  
 <a href="classtrajectory__processing_1_1IterativeSplineParameterization.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="iterative__spline__parameterization_8h_source.html">iterative_spline_parameterization.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for trajectory_processing::IterativeSplineParameterization:</div>
<div class="dyncontent">
<div class="center"><img src="classtrajectory__processing_1_1IterativeSplineParameterization__inherit__graph.png" border="0" usemap="#trajectory__processing_1_1IterativeSplineParameterization_inherit__map" alt="Inheritance graph"/></div>
<map name="trajectory__processing_1_1IterativeSplineParameterization_inherit__map" id="trajectory__processing_1_1IterativeSplineParameterization_inherit__map">
<area shape="rect" title="This class sets the timestamps of a trajectory to enforce velocity, acceleration constraints...." alt="" coords="5,95,241,136"/>
<area shape="rect" href="classtrajectory__processing_1_1TimeParameterization.html" title=" " alt="" coords="36,5,211,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for trajectory_processing::IterativeSplineParameterization:</div>
<div class="dyncontent">
<div class="center"><img src="classtrajectory__processing_1_1IterativeSplineParameterization__coll__graph.png" border="0" usemap="#trajectory__processing_1_1IterativeSplineParameterization_coll__map" alt="Collaboration graph"/></div>
<map name="trajectory__processing_1_1IterativeSplineParameterization_coll__map" id="trajectory__processing_1_1IterativeSplineParameterization_coll__map">
<area shape="rect" title="This class sets the timestamps of a trajectory to enforce velocity, acceleration constraints...." alt="" coords="5,95,241,136"/>
<area shape="rect" href="classtrajectory__processing_1_1TimeParameterization.html" title=" " alt="" coords="36,5,211,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeaed6a07d2db755a1826cf556bb2024b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrajectory__processing_1_1IterativeSplineParameterization.html#aeaed6a07d2db755a1826cf556bb2024b">IterativeSplineParameterization</a> (bool add_points=true)</td></tr>
<tr class="separator:aeaed6a07d2db755a1826cf556bb2024b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac65a0bed2a3d103913f7179b18efb6ab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrajectory__processing_1_1IterativeSplineParameterization.html#ac65a0bed2a3d103913f7179b18efb6ab">computeTimeStamps</a> (<a class="el" href="classrobot__trajectory_1_1RobotTrajectory.html">robot_trajectory::RobotTrajectory</a> &amp;trajectory, const double max_velocity_scaling_factor=1.0, const double max_acceleration_scaling_factor=1.0) const override</td></tr>
<tr class="separator:ac65a0bed2a3d103913f7179b18efb6ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e38510264a62836f7d1a033dc6817f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrajectory__processing_1_1IterativeSplineParameterization.html#a84e38510264a62836f7d1a033dc6817f">computeTimeStamps</a> (<a class="el" href="classrobot__trajectory_1_1RobotTrajectory.html">robot_trajectory::RobotTrajectory</a> &amp;trajectory, const std::unordered_map&lt; std::string, double &gt; &amp;velocity_limits, const std::unordered_map&lt; std::string, double &gt; &amp;acceleration_limits) const override</td></tr>
<tr class="separator:a84e38510264a62836f7d1a033dc6817f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classtrajectory__processing_1_1TimeParameterization"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classtrajectory__processing_1_1TimeParameterization')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classtrajectory__processing_1_1TimeParameterization.html">trajectory_processing::TimeParameterization</a></td></tr>
<tr class="memitem:a5bb53d61cca77c7519cefd350f0fc5d7 inherit pub_methods_classtrajectory__processing_1_1TimeParameterization"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrajectory__processing_1_1TimeParameterization.html#a5bb53d61cca77c7519cefd350f0fc5d7">~TimeParameterization</a> ()=default</td></tr>
<tr class="separator:a5bb53d61cca77c7519cefd350f0fc5d7 inherit pub_methods_classtrajectory__processing_1_1TimeParameterization"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class sets the timestamps of a trajectory to enforce velocity, acceleration constraints. Initial/final velocities and accelerations may be specified in the trajectory. Velocity and acceleration limits are specified in the model. </p>
<p>This algorithm repeatedly fits a cubic spline, adjusts the timing intervals, and repeats until all constraints are satisfied. When finished, each trajectory waypoint will have the time set, as well as the velocities and accelerations for each joint. Since we fit to a cubic spline, the position, velocity, and acceleration will be continuous and within bounds. The jerk will be discontinuous.</p>
<p>To match the velocity and acceleration at the endpoints, the second and second-last point locations need to move. By default, two extra points are added to leave the original trajectory unaffected. If points are not added, the trajectory could potentially be faster, but the 2nd and 2nd-last points should be re-checked for collisions.</p>
<p>Migration notes: If migrating from Iterative Parabolic Time Parameterization, be aware that the velocity and acceleration limits are more strictly enforced using this technique. This means that time-parameterizing the same trajectory with the same velocity and acceleration limits, will result in a longer trajectory. If this is a problem, try retuning (increasing) the limits. </p>

<p class="definition">Definition at line <a class="el" href="iterative__spline__parameterization_8h_source.html#l00105">105</a> of file <a class="el" href="iterative__spline__parameterization_8h_source.html">iterative_spline_parameterization.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aeaed6a07d2db755a1826cf556bb2024b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaed6a07d2db755a1826cf556bb2024b">&#9670;&nbsp;</a></span>IterativeSplineParameterization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">trajectory_processing::IterativeSplineParameterization::IterativeSplineParameterization </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>add_points</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iterative__spline__parameterization_8cpp_source.html#l00074">74</a> of file <a class="el" href="iterative__spline__parameterization_8cpp_source.html">iterative_spline_parameterization.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac65a0bed2a3d103913f7179b18efb6ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac65a0bed2a3d103913f7179b18efb6ab">&#9670;&nbsp;</a></span>computeTimeStamps() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool trajectory_processing::IterativeSplineParameterization::computeTimeStamps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrobot__trajectory_1_1RobotTrajectory.html">robot_trajectory::RobotTrajectory</a> &amp;&#160;</td>
          <td class="paramname"><em>trajectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>max_velocity_scaling_factor</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>max_acceleration_scaling_factor</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classtrajectory__processing_1_1TimeParameterization.html#a4dbacb6d1eaab1aaca95aeabcc01477d">trajectory_processing::TimeParameterization</a>.</p>

<p class="definition">Definition at line <a class="el" href="iterative__spline__parameterization_8cpp_source.html#l00078">78</a> of file <a class="el" href="iterative__spline__parameterization_8cpp_source.html">iterative_spline_parameterization.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtrajectory__processing_1_1IterativeSplineParameterization_ac65a0bed2a3d103913f7179b18efb6ab_cgraph.png" border="0" usemap="#classtrajectory__processing_1_1IterativeSplineParameterization_ac65a0bed2a3d103913f7179b18efb6ab_cgraph" alt=""/></div>
<map name="classtrajectory__processing_1_1IterativeSplineParameterization_ac65a0bed2a3d103913f7179b18efb6ab_cgraph" id="classtrajectory__processing_1_1IterativeSplineParameterization_ac65a0bed2a3d103913f7179b18efb6ab_cgraph">
<area shape="rect" title=" " alt="" coords="5,259,241,315"/>
<area shape="rect" href="classrobot__trajectory_1_1RobotTrajectory.html#afdd5cc4e84e484af2dc6ea337f62719e" title=" " alt="" coords="289,5,524,47"/>
<area shape="rect" href="classrobot__trajectory_1_1RobotTrajectory.html#a6eaef50c3127c83dbc5ca393376435b1" title=" " alt="" coords="289,71,524,112"/>
<area shape="rect" href="classmoveit_1_1core_1_1RobotModel.html#a0e6fe94c867b3452abdeecc2d7373ca2" title="Get the bounds for a specific variable. Throw an exception of variable is not found." alt="" coords="311,136,502,177"/>
<area shape="rect" href="classrobot__trajectory_1_1RobotTrajectory.html#af356952b9847bc920b773f2f83cb9943" title=" " alt="" coords="289,201,524,243"/>
<area shape="rect" href="classrobot__trajectory_1_1RobotTrajectory.html#ababf812aa287c586d9ad0b190e1d2482" title=" " alt="" coords="289,267,524,308"/>
<area shape="rect" href="classrobot__trajectory_1_1RobotTrajectory.html#aa02527d5b79f3249febefb4780743746" title=" " alt="" coords="289,332,524,373"/>
<area shape="rect" href="classrobot__trajectory_1_1RobotTrajectory.html#ab1e226f85689e3f9058a6b807f309a64" title=" " alt="" coords="289,397,524,439"/>
<area shape="rect" href="classmoveit_1_1core_1_1RobotState.html#a54879052daa602ea0319cbe3ded82ff3" title="Set the position of a single variable. An exception is thrown if the variable name is not known." alt="" coords="315,463,499,504"/>
<area shape="rect" href="classrobot__trajectory_1_1RobotTrajectory.html#a7804317b96eb6c13639839b1276ac04c" title=" " alt="" coords="289,528,524,569"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtrajectory__processing_1_1IterativeSplineParameterization_ac65a0bed2a3d103913f7179b18efb6ab_icgraph.png" border="0" usemap="#classtrajectory__processing_1_1IterativeSplineParameterization_ac65a0bed2a3d103913f7179b18efb6ab_icgraph" alt=""/></div>
<map name="classtrajectory__processing_1_1IterativeSplineParameterization_ac65a0bed2a3d103913f7179b18efb6ab_icgraph" id="classtrajectory__processing_1_1IterativeSplineParameterization_ac65a0bed2a3d103913f7179b18efb6ab_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,344,61"/>
<area shape="rect" href="test__time__parameterization_8cpp.html#a1fb67aa34417d03016c74d44bd7f54e0" title=" " alt="" coords="5,20,60,47"/>
</map>
</div>

</div>
</div>
<a id="a84e38510264a62836f7d1a033dc6817f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84e38510264a62836f7d1a033dc6817f">&#9670;&nbsp;</a></span>computeTimeStamps() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool trajectory_processing::IterativeSplineParameterization::computeTimeStamps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrobot__trajectory_1_1RobotTrajectory.html">robot_trajectory::RobotTrajectory</a> &amp;&#160;</td>
          <td class="paramname"><em>trajectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; std::string, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>velocity_limits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; std::string, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>acceleration_limits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classtrajectory__processing_1_1TimeParameterization.html#ab4e39381da1da60073e6df18f1f5a388">trajectory_processing::TimeParameterization</a>.</p>

<p class="definition">Definition at line <a class="el" href="iterative__spline__parameterization_8cpp_source.html#l00349">349</a> of file <a class="el" href="iterative__spline__parameterization_8cpp_source.html">iterative_spline_parameterization.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>moveit_core/trajectory_processing/include/moveit/trajectory_processing/<a class="el" href="iterative__spline__parameterization_8h_source.html">iterative_spline_parameterization.h</a></li>
<li>moveit_core/trajectory_processing/src/<a class="el" href="iterative__spline__parameterization_8cpp_source.html">iterative_spline_parameterization.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
