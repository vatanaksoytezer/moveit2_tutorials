<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>moveit2: moveit::core::CartesianInterpolator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">moveit2
   </div>
   <div id="projectbrief">The MoveIt Motion Planning Framework for ROS 2.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemoveit.html">moveit</a></li><li class="navelem"><a class="el" href="namespacemoveit_1_1core.html">core</a></li><li class="navelem"><a class="el" href="classmoveit_1_1core_1_1CartesianInterpolator.html">CartesianInterpolator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classmoveit_1_1core_1_1CartesianInterpolator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">moveit::core::CartesianInterpolator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="cartesian__interpolator_8h_source.html">cartesian_interpolator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae8e2f4be4098480869bb8a55340f6483"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoveit_1_1core_1_1CartesianInterpolator.html#ae8e2f4be4098480869bb8a55340f6483">computeCartesianPath</a> (<a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> *start_state, const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">JointModelGroup</a> *group, std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> &gt;&gt; &amp;traj, const <a class="el" href="classmoveit_1_1core_1_1LinkModel.html">LinkModel</a> *link, const Eigen::Vector3d &amp;direction, bool global_reference_frame, double distance, const <a class="el" href="structmoveit_1_1core_1_1MaxEEFStep.html">MaxEEFStep</a> &amp;max_step, const <a class="el" href="structmoveit_1_1core_1_1JumpThreshold.html">JumpThreshold</a> &amp;jump_threshold, const <a class="el" href="namespacemoveit_1_1core.html#a7e30b6ca7b8fafe9e2dd276d60e00b2c">GroupStateValidityCallbackFn</a> &amp;validCallback=<a class="el" href="namespacemoveit_1_1core.html#a7e30b6ca7b8fafe9e2dd276d60e00b2c">GroupStateValidityCallbackFn</a>(), const <a class="el" href="structkinematics_1_1KinematicsQueryOptions.html">kinematics::KinematicsQueryOptions</a> &amp;options=<a class="el" href="structkinematics_1_1KinematicsQueryOptions.html">kinematics::KinematicsQueryOptions</a>())</td></tr>
<tr class="memdesc:ae8e2f4be4098480869bb8a55340f6483"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the sequence of joint values that correspond to a straight Cartesian path for a particular group.  <a href="classmoveit_1_1core_1_1CartesianInterpolator.html#ae8e2f4be4098480869bb8a55340f6483">More...</a><br /></td></tr>
<tr class="separator:ae8e2f4be4098480869bb8a55340f6483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8907d4c8f81f05d3484c453f1cd3724"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoveit_1_1core_1_1CartesianInterpolator.html#aa8907d4c8f81f05d3484c453f1cd3724">computeCartesianPath</a> (<a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> *start_state, const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">JointModelGroup</a> *group, std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> &gt;&gt; &amp;traj, const <a class="el" href="classmoveit_1_1core_1_1LinkModel.html">LinkModel</a> *link, const Eigen::Isometry3d &amp;target, bool global_reference_frame, const <a class="el" href="structmoveit_1_1core_1_1MaxEEFStep.html">MaxEEFStep</a> &amp;max_step, const <a class="el" href="structmoveit_1_1core_1_1JumpThreshold.html">JumpThreshold</a> &amp;jump_threshold, const <a class="el" href="namespacemoveit_1_1core.html#a7e30b6ca7b8fafe9e2dd276d60e00b2c">GroupStateValidityCallbackFn</a> &amp;validCallback=<a class="el" href="namespacemoveit_1_1core.html#a7e30b6ca7b8fafe9e2dd276d60e00b2c">GroupStateValidityCallbackFn</a>(), const <a class="el" href="structkinematics_1_1KinematicsQueryOptions.html">kinematics::KinematicsQueryOptions</a> &amp;options=<a class="el" href="structkinematics_1_1KinematicsQueryOptions.html">kinematics::KinematicsQueryOptions</a>())</td></tr>
<tr class="memdesc:aa8907d4c8f81f05d3484c453f1cd3724"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the sequence of joint values that correspond to a straight Cartesian path, for a particular group.  <a href="classmoveit_1_1core_1_1CartesianInterpolator.html#aa8907d4c8f81f05d3484c453f1cd3724">More...</a><br /></td></tr>
<tr class="separator:aa8907d4c8f81f05d3484c453f1cd3724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f8be419adb404a8632b6699391b13ab"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoveit_1_1core_1_1CartesianInterpolator.html#a4f8be419adb404a8632b6699391b13ab">computeCartesianPath</a> (<a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> *start_state, const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">JointModelGroup</a> *group, std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> &gt;&gt; &amp;traj, const <a class="el" href="classmoveit_1_1core_1_1LinkModel.html">LinkModel</a> *link, const EigenSTL::vector_Isometry3d &amp;waypoints, bool global_reference_frame, const <a class="el" href="structmoveit_1_1core_1_1MaxEEFStep.html">MaxEEFStep</a> &amp;max_step, const <a class="el" href="structmoveit_1_1core_1_1JumpThreshold.html">JumpThreshold</a> &amp;jump_threshold, const <a class="el" href="namespacemoveit_1_1core.html#a7e30b6ca7b8fafe9e2dd276d60e00b2c">GroupStateValidityCallbackFn</a> &amp;validCallback=<a class="el" href="namespacemoveit_1_1core.html#a7e30b6ca7b8fafe9e2dd276d60e00b2c">GroupStateValidityCallbackFn</a>(), const <a class="el" href="structkinematics_1_1KinematicsQueryOptions.html">kinematics::KinematicsQueryOptions</a> &amp;options=<a class="el" href="structkinematics_1_1KinematicsQueryOptions.html">kinematics::KinematicsQueryOptions</a>())</td></tr>
<tr class="memdesc:a4f8be419adb404a8632b6699391b13ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the sequence of joint values that perform a general Cartesian path.  <a href="classmoveit_1_1core_1_1CartesianInterpolator.html#a4f8be419adb404a8632b6699391b13ab">More...</a><br /></td></tr>
<tr class="separator:a4f8be419adb404a8632b6699391b13ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a246928dafcdaa5fec7f6b32476f3073a"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoveit_1_1core_1_1CartesianInterpolator.html#a246928dafcdaa5fec7f6b32476f3073a">checkJointSpaceJump</a> (const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">JointModelGroup</a> *group, std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> &gt;&gt; &amp;traj, const <a class="el" href="structmoveit_1_1core_1_1JumpThreshold.html">JumpThreshold</a> &amp;jump_threshold)</td></tr>
<tr class="memdesc:a246928dafcdaa5fec7f6b32476f3073a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests joint space jumps of a trajectory.  <a href="classmoveit_1_1core_1_1CartesianInterpolator.html#a246928dafcdaa5fec7f6b32476f3073a">More...</a><br /></td></tr>
<tr class="separator:a246928dafcdaa5fec7f6b32476f3073a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d1dc2244ea8833cac25941e0d5aa3b8"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoveit_1_1core_1_1CartesianInterpolator.html#a7d1dc2244ea8833cac25941e0d5aa3b8">checkRelativeJointSpaceJump</a> (const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">JointModelGroup</a> *group, std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> &gt;&gt; &amp;traj, double jump_threshold_factor)</td></tr>
<tr class="memdesc:a7d1dc2244ea8833cac25941e0d5aa3b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests for relative joint space jumps of the trajectory <em>traj</em>.  <a href="classmoveit_1_1core_1_1CartesianInterpolator.html#a7d1dc2244ea8833cac25941e0d5aa3b8">More...</a><br /></td></tr>
<tr class="separator:a7d1dc2244ea8833cac25941e0d5aa3b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f5a408c58454415643aae58ba7b6856"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoveit_1_1core_1_1CartesianInterpolator.html#a4f5a408c58454415643aae58ba7b6856">checkAbsoluteJointSpaceJump</a> (const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">JointModelGroup</a> *group, std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> &gt;&gt; &amp;traj, double revolute_jump_threshold, double prismatic_jump_threshold)</td></tr>
<tr class="memdesc:a4f5a408c58454415643aae58ba7b6856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests for absolute joint space jumps of the trajectory <em>traj</em>.  <a href="classmoveit_1_1core_1_1CartesianInterpolator.html#a4f5a408c58454415643aae58ba7b6856">More...</a><br /></td></tr>
<tr class="separator:a4f5a408c58454415643aae58ba7b6856"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="cartesian__interpolator_8h_source.html#l00163">163</a> of file <a class="el" href="cartesian__interpolator_8h_source.html">cartesian_interpolator.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4f5a408c58454415643aae58ba7b6856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f5a408c58454415643aae58ba7b6856">&#9670;&nbsp;</a></span>checkAbsoluteJointSpaceJump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double moveit::core::CartesianInterpolator::checkAbsoluteJointSpaceJump </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">JointModelGroup</a> *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>traj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>revolute_jump_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>prismatic_jump_threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests for absolute joint space jumps of the trajectory <em>traj</em>. </p>
<p>The joint-space difference between consecutive waypoints is computed for each active joint and compared to the absolute thresholds <em>revolute_jump_threshold</em> for revolute joints and <em>prismatic_jump_threshold</em> for prismatic joints. If these thresholds are exceeded, the trajectory is truncated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>The joint model group of the robot state. </td></tr>
    <tr><td class="paramname">traj</td><td>The trajectory that should be tested. </td></tr>
    <tr><td class="paramname">revolute_jump_threshold</td><td>Absolute joint-space threshold for revolute joints. </td></tr>
    <tr><td class="paramname">prismatic_jump_threshold</td><td>Absolute joint-space threshold for prismatic joints. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The fraction of the trajectory that passed.</dd></dl>
<p>TODO: move to more appropriate location </p>

<p class="definition">Definition at line <a class="el" href="cartesian__interpolator_8cpp_source.html#l00338">338</a> of file <a class="el" href="cartesian__interpolator_8cpp_source.html">cartesian_interpolator.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoveit_1_1core_1_1CartesianInterpolator_a4f5a408c58454415643aae58ba7b6856_icgraph.png" border="0" usemap="#classmoveit_1_1core_1_1CartesianInterpolator_a4f5a408c58454415643aae58ba7b6856_icgraph" alt=""/></div>
<map name="classmoveit_1_1core_1_1CartesianInterpolator_a4f5a408c58454415643aae58ba7b6856_icgraph" id="classmoveit_1_1core_1_1CartesianInterpolator_a4f5a408c58454415643aae58ba7b6856_icgraph">
<area shape="rect" title="Tests for absolute joint space jumps of the trajectory traj." alt="" coords="123,5,373,47"/>
<area shape="rect" href="test__cartesian__interpolator_8cpp.html#ae59250539e92d8b9afb5901fc03fa271" title=" " alt="" coords="5,13,75,39"/>
</map>
</div>

</div>
</div>
<a id="a246928dafcdaa5fec7f6b32476f3073a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a246928dafcdaa5fec7f6b32476f3073a">&#9670;&nbsp;</a></span>checkJointSpaceJump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double moveit::core::CartesianInterpolator::checkJointSpaceJump </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">JointModelGroup</a> *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>traj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmoveit_1_1core_1_1JumpThreshold.html">JumpThreshold</a> &amp;&#160;</td>
          <td class="paramname"><em>jump_threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests joint space jumps of a trajectory. </p>
<p>If <em>jump_threshold_factor</em> is non-zero, we test for relative jumps. If <em>revolute_jump_threshold</em> or <em>prismatic_jump_threshold</em> are non-zero, we test for absolute jumps. Both tests can be combined. If all params are zero, jump detection is disabled. For relative jump detection, the average joint-space distance between consecutive points in the trajectory is computed. If any individual joint-space motion delta is larger then this average distance by a factor of <em>jump_threshold_factor</em>, this step is considered a failure and the returned path is truncated up to just before the jump.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>The joint model group of the robot state. </td></tr>
    <tr><td class="paramname">traj</td><td>The trajectory that should be tested. </td></tr>
    <tr><td class="paramname">jump_threshold</td><td>The struct holding jump thresholds to determine if a joint space jump has occurred. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The fraction of the trajectory that passed.</dd></dl>
<p>TODO: move to more appropriate location </p>

<p class="definition">Definition at line <a class="el" href="cartesian__interpolator_8cpp_source.html#l00285">285</a> of file <a class="el" href="cartesian__interpolator_8cpp_source.html">cartesian_interpolator.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoveit_1_1core_1_1CartesianInterpolator_a246928dafcdaa5fec7f6b32476f3073a_icgraph.png" border="0" usemap="#classmoveit_1_1core_1_1CartesianInterpolator_a246928dafcdaa5fec7f6b32476f3073a_icgraph" alt=""/></div>
<map name="classmoveit_1_1core_1_1CartesianInterpolator_a246928dafcdaa5fec7f6b32476f3073a_icgraph" id="classmoveit_1_1core_1_1CartesianInterpolator_a246928dafcdaa5fec7f6b32476f3073a_icgraph">
<area shape="rect" title="Tests joint space jumps of a trajectory." alt="" coords="123,5,373,47"/>
<area shape="rect" href="test__cartesian__interpolator_8cpp.html#ae59250539e92d8b9afb5901fc03fa271" title=" " alt="" coords="5,13,75,39"/>
</map>
</div>

</div>
</div>
<a id="a7d1dc2244ea8833cac25941e0d5aa3b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d1dc2244ea8833cac25941e0d5aa3b8">&#9670;&nbsp;</a></span>checkRelativeJointSpaceJump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double moveit::core::CartesianInterpolator::checkRelativeJointSpaceJump </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">JointModelGroup</a> *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>traj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>jump_threshold_factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests for relative joint space jumps of the trajectory <em>traj</em>. </p>
<p>First, the average distance between adjacent trajectory points is computed. If two adjacent trajectory points have distance &gt; <em>jump_threshold_factor</em> * average, the trajectory is truncated at this point.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>The joint model group of the robot state. </td></tr>
    <tr><td class="paramname">traj</td><td>The trajectory that should be tested. </td></tr>
    <tr><td class="paramname">jump_threshold_factor</td><td>The threshold to determine if a joint space jump has occurred . </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The fraction of the trajectory that passed.</dd></dl>
<p>TODO: move to more appropriate location </p>

<p class="definition">Definition at line <a class="el" href="cartesian__interpolator_8cpp_source.html#l00301">301</a> of file <a class="el" href="cartesian__interpolator_8cpp_source.html">cartesian_interpolator.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoveit_1_1core_1_1CartesianInterpolator_a7d1dc2244ea8833cac25941e0d5aa3b8_icgraph.png" border="0" usemap="#classmoveit_1_1core_1_1CartesianInterpolator_a7d1dc2244ea8833cac25941e0d5aa3b8_icgraph" alt=""/></div>
<map name="classmoveit_1_1core_1_1CartesianInterpolator_a7d1dc2244ea8833cac25941e0d5aa3b8_icgraph" id="classmoveit_1_1core_1_1CartesianInterpolator_a7d1dc2244ea8833cac25941e0d5aa3b8_icgraph">
<area shape="rect" title="Tests for relative joint space jumps of the trajectory traj." alt="" coords="123,5,373,47"/>
<area shape="rect" href="test__cartesian__interpolator_8cpp.html#ac2ced3e38148ebe458a4966eddd74545" title=" " alt="" coords="5,13,75,39"/>
</map>
</div>

</div>
</div>
<a id="aa8907d4c8f81f05d3484c453f1cd3724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8907d4c8f81f05d3484c453f1cd3724">&#9670;&nbsp;</a></span>computeCartesianPath() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double moveit::core::CartesianInterpolator::computeCartesianPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> *&#160;</td>
          <td class="paramname"><em>start_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">JointModelGroup</a> *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>traj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmoveit_1_1core_1_1LinkModel.html">LinkModel</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Isometry3d &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>global_reference_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmoveit_1_1core_1_1MaxEEFStep.html">MaxEEFStep</a> &amp;&#160;</td>
          <td class="paramname"><em>max_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmoveit_1_1core_1_1JumpThreshold.html">JumpThreshold</a> &amp;&#160;</td>
          <td class="paramname"><em>jump_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacemoveit_1_1core.html#a7e30b6ca7b8fafe9e2dd276d60e00b2c">GroupStateValidityCallbackFn</a> &amp;&#160;</td>
          <td class="paramname"><em>validCallback</em> = <code><a class="el" href="namespacemoveit_1_1core.html#a7e30b6ca7b8fafe9e2dd276d60e00b2c">GroupStateValidityCallbackFn</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkinematics_1_1KinematicsQueryOptions.html">kinematics::KinematicsQueryOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code><a class="el" href="structkinematics_1_1KinematicsQueryOptions.html">kinematics::KinematicsQueryOptions</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the sequence of joint values that correspond to a straight Cartesian path, for a particular group. </p>
<p>In contrast to the previous function, the Cartesian path is specified as a target frame to be reached (<em>target</em>) for the origin of a robot link (<em>link</em>). The target frame is assumed to be either in a global reference frame or in the local reference frame of the link. In the latter case (<em>global_reference_frame</em> is false) the <em>target</em> is rotated accordingly. All other comments from the previous function apply. </p>

</div>
</div>
<a id="ae8e2f4be4098480869bb8a55340f6483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8e2f4be4098480869bb8a55340f6483">&#9670;&nbsp;</a></span>computeCartesianPath() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double moveit::core::CartesianInterpolator::computeCartesianPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> *&#160;</td>
          <td class="paramname"><em>start_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">JointModelGroup</a> *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>traj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmoveit_1_1core_1_1LinkModel.html">LinkModel</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Vector3d &amp;&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>global_reference_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmoveit_1_1core_1_1MaxEEFStep.html">MaxEEFStep</a> &amp;&#160;</td>
          <td class="paramname"><em>max_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmoveit_1_1core_1_1JumpThreshold.html">JumpThreshold</a> &amp;&#160;</td>
          <td class="paramname"><em>jump_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacemoveit_1_1core.html#a7e30b6ca7b8fafe9e2dd276d60e00b2c">GroupStateValidityCallbackFn</a> &amp;&#160;</td>
          <td class="paramname"><em>validCallback</em> = <code><a class="el" href="namespacemoveit_1_1core.html#a7e30b6ca7b8fafe9e2dd276d60e00b2c">GroupStateValidityCallbackFn</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkinematics_1_1KinematicsQueryOptions.html">kinematics::KinematicsQueryOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code><a class="el" href="structkinematics_1_1KinematicsQueryOptions.html">kinematics::KinematicsQueryOptions</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the sequence of joint values that correspond to a straight Cartesian path for a particular group. </p>
<p>The Cartesian path to be followed is specified as a direction of motion (<em>direction</em>, unit vector) for the origin The Cartesian path to be followed is specified as a direction of motion (<em>direction</em>, unit vector) for the origin of a robot link (<em>link</em>). The direction is assumed to be either in a global reference frame or in the local reference frame of the link. In the latter case (<em>global_reference_frame</em> is false) the <em>direction</em> is rotated accordingly. The link needs to move in a straight line, following the specified direction, for the desired <em>distance</em>. The resulting joint values are stored in the vector <em>traj</em>, one by one. The maximum distance in Cartesian space between consecutive points on the resulting path is specified in the <em><a class="el" href="structmoveit_1_1core_1_1MaxEEFStep.html" title="Struct for containing max_step for computeCartesianPath.">MaxEEFStep</a></em> struct which provides two fields: translation and rotation. If a <em>validCallback</em> is specified, this is passed to the internal call to setFromIK(). In case of IK failure, the computation of the path stops and the value returned corresponds to the distance that was computed and for which corresponding states were added to the path. At the end of the function call, the state of the group corresponds to the last attempted Cartesian pose.</p>
<p>During the computation of the trajectory, it is usually preferred if consecutive joint values do not 'jump' by a large amount in joint space, even if the Cartesian distance between the corresponding points is small as expected. To account for this, the <em>jump_threshold</em> struct is provided, which comprises three fields: <em>jump_threshold_factor</em>, <em>revolute_jump_threshold</em> and <em>prismatic_jump_threshold</em>. If either <em>revolute_jump_threshold</em> or <em>prismatic_jump_threshold</em> are non-zero, we test for absolute jumps. If <em>jump_threshold_factor</em> is non-zero, we test for relative jumps. Otherwise (all params are zero), jump detection is disabled.</p>
<p>For relative jump detection, the average joint-space distance between consecutive points in the trajectory is computed. If any individual joint-space motion delta is larger then this average distance by a factor of <em>jump_threshold_factor</em>, this step is considered a failure and the returned path is truncated up to just before the jump.</p>
<p>For absolute jump thresholds, if any individual joint-space motion delta is larger then <em>revolute_jump_threshold</em> for revolute joints or <em>prismatic_jump_threshold</em> for prismatic joints then this step is considered a failure and the returned path is truncated up to just before the jump. </p>

</div>
</div>
<a id="a4f8be419adb404a8632b6699391b13ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f8be419adb404a8632b6699391b13ab">&#9670;&nbsp;</a></span>computeCartesianPath() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double moveit::core::CartesianInterpolator::computeCartesianPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> *&#160;</td>
          <td class="paramname"><em>start_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">JointModelGroup</a> *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmoveit_1_1core_1_1RobotState.html">RobotState</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>traj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmoveit_1_1core_1_1LinkModel.html">LinkModel</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const EigenSTL::vector_Isometry3d &amp;&#160;</td>
          <td class="paramname"><em>waypoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>global_reference_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmoveit_1_1core_1_1MaxEEFStep.html">MaxEEFStep</a> &amp;&#160;</td>
          <td class="paramname"><em>max_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmoveit_1_1core_1_1JumpThreshold.html">JumpThreshold</a> &amp;&#160;</td>
          <td class="paramname"><em>jump_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacemoveit_1_1core.html#a7e30b6ca7b8fafe9e2dd276d60e00b2c">GroupStateValidityCallbackFn</a> &amp;&#160;</td>
          <td class="paramname"><em>validCallback</em> = <code><a class="el" href="namespacemoveit_1_1core.html#a7e30b6ca7b8fafe9e2dd276d60e00b2c">GroupStateValidityCallbackFn</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkinematics_1_1KinematicsQueryOptions.html">kinematics::KinematicsQueryOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code><a class="el" href="structkinematics_1_1KinematicsQueryOptions.html">kinematics::KinematicsQueryOptions</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the sequence of joint values that perform a general Cartesian path. </p>
<p>In contrast to the previous functions, the Cartesian path is specified as a set of <em>waypoints</em> to be sequentially reached for the origin of a robot link (<em>link</em>). The waypoints are transforms given either in a global reference frame or in the local reference frame of the link at the immediately preceding waypoint. The link needs to move in a straight line between two consecutive waypoints. All other comments apply. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>moveit_core/robot_state/include/moveit/robot_state/<a class="el" href="cartesian__interpolator_8h_source.html">cartesian_interpolator.h</a></li>
<li>moveit_core/robot_state/src/<a class="el" href="cartesian__interpolator_8cpp_source.html">cartesian_interpolator.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
