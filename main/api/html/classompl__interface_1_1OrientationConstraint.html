<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>moveit2: ompl_interface::OrientationConstraint Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">moveit2
   </div>
   <div id="projectbrief">The MoveIt Motion Planning Framework for ROS 2.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceompl__interface.html">ompl_interface</a></li><li class="navelem"><a class="el" href="classompl__interface_1_1OrientationConstraint.html">OrientationConstraint</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classompl__interface_1_1OrientationConstraint-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ompl_interface::OrientationConstraint Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Orientation constraints parameterized using exponential coordinates.  
 <a href="classompl__interface_1_1OrientationConstraint.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ompl__constraints_8h_source.html">ompl_constraints.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ompl_interface::OrientationConstraint:</div>
<div class="dyncontent">
<div class="center"><img src="classompl__interface_1_1OrientationConstraint__inherit__graph.png" border="0" usemap="#ompl__interface_1_1OrientationConstraint_inherit__map" alt="Inheritance graph"/></div>
<map name="ompl__interface_1_1OrientationConstraint_inherit__map" id="ompl__interface_1_1OrientationConstraint_inherit__map">
<area shape="rect" title="Orientation constraints parameterized using exponential coordinates." alt="" coords="18,155,219,196"/>
<area shape="rect" href="classompl__interface_1_1BaseConstraint.html" title="Abstract base class for different types of constraints, implementations of ompl::base::Constraint." alt="" coords="5,80,232,107"/>
<area shape="rect" title=" " alt="" coords="34,5,203,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ompl_interface::OrientationConstraint:</div>
<div class="dyncontent">
<div class="center"><img src="classompl__interface_1_1OrientationConstraint__coll__graph.png" border="0" usemap="#ompl__interface_1_1OrientationConstraint_coll__map" alt="Collaboration graph"/></div>
<map name="ompl__interface_1_1OrientationConstraint_coll__map" id="ompl__interface_1_1OrientationConstraint_coll__map">
<area shape="rect" title="Orientation constraints parameterized using exponential coordinates." alt="" coords="1689,74,1891,115"/>
<area shape="rect" href="classompl__interface_1_1BaseConstraint.html" title="Abstract base class for different types of constraints, implementations of ompl::base::Constraint." alt="" coords="1413,81,1640,108"/>
<area shape="rect" title=" " alt="" coords="1033,5,1203,32"/>
<area shape="rect" href="classompl__interface_1_1Bounds.html" title="Represents upper and lower bound on the elements of a vector." alt="" coords="1030,56,1206,83"/>
<area shape="rect" href="classompl__interface_1_1TSStateStorage.html" title=" " alt="" coords="1004,107,1232,133"/>
<area shape="rect" href="classmoveit_1_1core_1_1JointModelGroup.html" title=" " alt="" coords="1027,158,1209,199"/>
<area shape="rect" href="classmoveit_1_1core_1_1JointModel.html" title="A joint from the robot. Models the transform that this joint applies in the kinematic chain...." alt="" coords="361,161,543,188"/>
<area shape="rect" href="classmoveit_1_1core_1_1RobotModel.html" title="Definition of a kinematic model. This class is not thread safe, however multiple instances can be cre..." alt="" coords="664,196,855,223"/>
<area shape="rect" href="classmoveit_1_1core_1_1LinkModel.html" title="A link from the robot. Contains the constant transform applied to the link and its geometry." alt="" coords="5,192,184,219"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a697c3fb422203efcb52dad92ad1774a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1OrientationConstraint.html#a697c3fb422203efcb52dad92ad1774a3">OrientationConstraint</a> (const moveit::core::RobotModelConstPtr &amp;robot_model, const std::string &amp;group, const unsigned int num_dofs)</td></tr>
<tr class="separator:a697c3fb422203efcb52dad92ad1774a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99490c0da3ab91aba65211bd666d7d73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1OrientationConstraint.html#a99490c0da3ab91aba65211bd666d7d73">parseConstraintMsg</a> (const moveit_msgs::msg::Constraints &amp;constraints) override</td></tr>
<tr class="memdesc:a99490c0da3ab91aba65211bd666d7d73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse bounds on orientation parameters from MoveIt's constraint message.  <a href="classompl__interface_1_1OrientationConstraint.html#a99490c0da3ab91aba65211bd666d7d73">More...</a><br /></td></tr>
<tr class="separator:a99490c0da3ab91aba65211bd666d7d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae7f1ba7f7c4cad2fadb9506ebf705b4"><td class="memItemLeft" align="right" valign="top">Eigen::VectorXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1OrientationConstraint.html#aae7f1ba7f7c4cad2fadb9506ebf705b4">calcError</a> (const Eigen::Ref&lt; const Eigen::VectorXd &gt; &amp;x) const override</td></tr>
<tr class="memdesc:aae7f1ba7f7c4cad2fadb9506ebf705b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">For inequality constraints: calculate the value of the parameter that is being constrained by the bounds.  <a href="classompl__interface_1_1OrientationConstraint.html#aae7f1ba7f7c4cad2fadb9506ebf705b4">More...</a><br /></td></tr>
<tr class="separator:aae7f1ba7f7c4cad2fadb9506ebf705b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57fa947313f56b363c92fd673d7b0a4d"><td class="memItemLeft" align="right" valign="top">Eigen::MatrixXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1OrientationConstraint.html#a57fa947313f56b363c92fd673d7b0a4d">calcErrorJacobian</a> (const Eigen::Ref&lt; const Eigen::VectorXd &gt; &amp;x) const override</td></tr>
<tr class="memdesc:a57fa947313f56b363c92fd673d7b0a4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">For inequality constraints: calculate the Jacobian for the current parameters that are being constrained.</p><ul>
<li>This error jacobian, as the name suggests, is only the jacobian of the position / orientation / ... error. It does not take into account the derivative of the penalty functions defined in the <a class="el" href="classompl__interface_1_1Bounds.html" title="Represents upper and lower bound on the elements of a vector.">Bounds</a> class. This correction is added in the implementation of of <a class="el" href="classompl__interface_1_1BaseConstraint.html#af88434071b40f6dc11a3aa816b8adedb" title="Jacobian of the constraint function.">BaseConstraint::jacobian</a>. </li>
</ul>
 <a href="classompl__interface_1_1OrientationConstraint.html#a57fa947313f56b363c92fd673d7b0a4d">More...</a><br /></td></tr>
<tr class="separator:a57fa947313f56b363c92fd673d7b0a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classompl__interface_1_1BaseConstraint"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classompl__interface_1_1BaseConstraint')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classompl__interface_1_1BaseConstraint.html">ompl_interface::BaseConstraint</a></td></tr>
<tr class="memitem:ab71ff3df6dd2599395ba190f753e38fe inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#ab71ff3df6dd2599395ba190f753e38fe">BaseConstraint</a> (const moveit::core::RobotModelConstPtr &amp;robot_model, const std::string &amp;group, const unsigned int num_dofs, const unsigned int num_cons=3)</td></tr>
<tr class="memdesc:ab71ff3df6dd2599395ba190f753e38fe inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <a class="el" href="classompl__interface_1_1BaseConstraint.html" title="Abstract base class for different types of constraints, implementations of ompl::base::Constraint.">BaseConstraint</a> using 3 <code>num_cons</code> by default because all constraints currently implemented have 3 constraint equations.  <a href="classompl__interface_1_1BaseConstraint.html#ab71ff3df6dd2599395ba190f753e38fe">More...</a><br /></td></tr>
<tr class="separator:ab71ff3df6dd2599395ba190f753e38fe inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0130c691dc894c8f4ed4299f5a095b4 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#af0130c691dc894c8f4ed4299f5a095b4">init</a> (const moveit_msgs::msg::Constraints &amp;constraints)</td></tr>
<tr class="memdesc:af0130c691dc894c8f4ed4299f5a095b4 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize constraint based on message content.  <a href="classompl__interface_1_1BaseConstraint.html#af0130c691dc894c8f4ed4299f5a095b4">More...</a><br /></td></tr>
<tr class="separator:af0130c691dc894c8f4ed4299f5a095b4 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa5077b9200a7bc625e2086419ebcad3 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#afa5077b9200a7bc625e2086419ebcad3">function</a> (const Eigen::Ref&lt; const Eigen::VectorXd &gt; &amp;joint_values, Eigen::Ref&lt; Eigen::VectorXd &gt; out) const override</td></tr>
<tr class="separator:afa5077b9200a7bc625e2086419ebcad3 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af88434071b40f6dc11a3aa816b8adedb inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#af88434071b40f6dc11a3aa816b8adedb">jacobian</a> (const Eigen::Ref&lt; const Eigen::VectorXd &gt; &amp;joint_values, Eigen::Ref&lt; Eigen::MatrixXd &gt; out) const override</td></tr>
<tr class="memdesc:af88434071b40f6dc11a3aa816b8adedb inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Jacobian of the constraint function.  <a href="classompl__interface_1_1BaseConstraint.html#af88434071b40f6dc11a3aa816b8adedb">More...</a><br /></td></tr>
<tr class="separator:af88434071b40f6dc11a3aa816b8adedb inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7598bbbe35c6d8e9d11e91a1fdd5e2b7 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">Eigen::Isometry3d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#a7598bbbe35c6d8e9d11e91a1fdd5e2b7">forwardKinematics</a> (const Eigen::Ref&lt; const Eigen::VectorXd &gt; &amp;joint_values) const</td></tr>
<tr class="memdesc:a7598bbbe35c6d8e9d11e91a1fdd5e2b7 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for forward kinematics calculated by MoveIt's Robot State.  <a href="classompl__interface_1_1BaseConstraint.html#a7598bbbe35c6d8e9d11e91a1fdd5e2b7">More...</a><br /></td></tr>
<tr class="separator:a7598bbbe35c6d8e9d11e91a1fdd5e2b7 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35c8f5faf2694d11d3df29a3aef6a38 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">Eigen::MatrixXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#aa35c8f5faf2694d11d3df29a3aef6a38">robotGeometricJacobian</a> (const Eigen::Ref&lt; const Eigen::VectorXd &gt; &amp;joint_values) const</td></tr>
<tr class="memdesc:aa35c8f5faf2694d11d3df29a3aef6a38 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the robot's geometric Jacobian using MoveIt's Robot State.  <a href="classompl__interface_1_1BaseConstraint.html#aa35c8f5faf2694d11d3df29a3aef6a38">More...</a><br /></td></tr>
<tr class="separator:aa35c8f5faf2694d11d3df29a3aef6a38 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a249198c4d025122d59f280b1cef675a5 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#a249198c4d025122d59f280b1cef675a5">getLinkName</a> ()</td></tr>
<tr class="separator:a249198c4d025122d59f280b1cef675a5 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a607f4d0a2f5306b65d7c3c3a6c6211ca inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">const Eigen::Vector3d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#a607f4d0a2f5306b65d7c3c3a6c6211ca">getTargetPosition</a> ()</td></tr>
<tr class="separator:a607f4d0a2f5306b65d7c3c3a6c6211ca inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb5338c568f7224679af3a270e11216 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">const Eigen::Quaterniond&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#a4cb5338c568f7224679af3a270e11216">getTargetOrientation</a> ()</td></tr>
<tr class="separator:a4cb5338c568f7224679af3a270e11216 inherit pub_methods_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classompl__interface_1_1BaseConstraint"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classompl__interface_1_1BaseConstraint')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classompl__interface_1_1BaseConstraint.html">ompl_interface::BaseConstraint</a></td></tr>
<tr class="memitem:a2b3748d38c96b1e6228e182ab63038b1 inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classompl__interface_1_1TSStateStorage.html">TSStateStorage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#a2b3748d38c96b1e6228e182ab63038b1">state_storage_</a></td></tr>
<tr class="memdesc:a2b3748d38c96b1e6228e182ab63038b1 inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread-safe storage of the robot state.  <a href="classompl__interface_1_1BaseConstraint.html#a2b3748d38c96b1e6228e182ab63038b1">More...</a><br /></td></tr>
<tr class="separator:a2b3748d38c96b1e6228e182ab63038b1 inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e915904754f82f445def3fb1be4c4ed inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classmoveit_1_1core_1_1JointModelGroup.html">moveit::core::JointModelGroup</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#a3e915904754f82f445def3fb1be4c4ed">joint_model_group_</a></td></tr>
<tr class="separator:a3e915904754f82f445def3fb1be4c4ed inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a858b4f38121fa642184e6bf93ef7d556 inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#a858b4f38121fa642184e6bf93ef7d556">link_name_</a></td></tr>
<tr class="memdesc:a858b4f38121fa642184e6bf93ef7d556 inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Robot link the constraints are applied to.  <a href="classompl__interface_1_1BaseConstraint.html#a858b4f38121fa642184e6bf93ef7d556">More...</a><br /></td></tr>
<tr class="separator:a858b4f38121fa642184e6bf93ef7d556 inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a445cc6084647da74cc22ee9997662356 inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classompl__interface_1_1Bounds.html">Bounds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#a445cc6084647da74cc22ee9997662356">bounds_</a></td></tr>
<tr class="memdesc:a445cc6084647da74cc22ee9997662356 inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upper and lower bounds on constrained variables.  <a href="classompl__interface_1_1BaseConstraint.html#a445cc6084647da74cc22ee9997662356">More...</a><br /></td></tr>
<tr class="separator:a445cc6084647da74cc22ee9997662356 inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc46f655a2a50c2073e6ab5fee586cda inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#acc46f655a2a50c2073e6ab5fee586cda">target_position_</a></td></tr>
<tr class="memdesc:acc46f655a2a50c2073e6ab5fee586cda inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">target for equality constraints, nominal value for inequality constraints.  <a href="classompl__interface_1_1BaseConstraint.html#acc46f655a2a50c2073e6ab5fee586cda">More...</a><br /></td></tr>
<tr class="separator:acc46f655a2a50c2073e6ab5fee586cda inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca6f5dce8850c4400fffd9b6b4c6009 inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="memItemLeft" align="right" valign="top">Eigen::Quaterniond&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classompl__interface_1_1BaseConstraint.html#a0ca6f5dce8850c4400fffd9b6b4c6009">target_orientation_</a></td></tr>
<tr class="memdesc:a0ca6f5dce8850c4400fffd9b6b4c6009 inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="mdescLeft">&#160;</td><td class="mdescRight">target for equality constraints, nominal value for inequality constraints.  <a href="classompl__interface_1_1BaseConstraint.html#a0ca6f5dce8850c4400fffd9b6b4c6009">More...</a><br /></td></tr>
<tr class="separator:a0ca6f5dce8850c4400fffd9b6b4c6009 inherit pro_attribs_classompl__interface_1_1BaseConstraint"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Orientation constraints parameterized using exponential coordinates. </p>
<p>An orientation constraint is modeled as a deviation from a target orientation. The deviation is represented using exponential coordinates. <a class="el" href="classA.html">A</a> three element vector represents the rotation axis multiplied with the angle in radians around this axis.</p>
<p>R_error = R_end_effector ^ (-1) * R_target R_error -&gt; rotation angle and axis (using Eigen3) error = angle * axis (vector with three elements)</p>
<p>And then the constraints can be written as</p>
<ul>
<li>absolute_x_axis_tolerance / 2 &lt; error[0] &lt; absolute_x_axis_tolerance / 2</li>
<li>absolute_y_axis_tolerance / 2 &lt; error[1] &lt; absolute_y_axis_tolerance / 2</li>
<li>absolute_z_axis_tolerance / 2 &lt; error[2] &lt; absolute_z_axis_tolerance / 2</li>
</ul>
<p><b>IMPORTANT</b> It is NOT how orientation error is handled in the default MoveIt constraint samplers, where XYZ intrinsic euler angles are used. Using exponential coordinates is analog to how orientation error is calculated in the TrajOpt motion planner. </p>

<p class="definition">Definition at line <a class="el" href="ompl__constraints_8h_source.html#l00409">409</a> of file <a class="el" href="ompl__constraints_8h_source.html">ompl_constraints.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a697c3fb422203efcb52dad92ad1774a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a697c3fb422203efcb52dad92ad1774a3">&#9670;&nbsp;</a></span>OrientationConstraint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ompl_interface::OrientationConstraint::OrientationConstraint </td>
          <td>(</td>
          <td class="paramtype">const moveit::core::RobotModelConstPtr &amp;&#160;</td>
          <td class="paramname"><em>robot_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>num_dofs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ompl__constraints_8h_source.html#l00414">414</a> of file <a class="el" href="ompl__constraints_8h_source.html">ompl_constraints.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aae7f1ba7f7c4cad2fadb9506ebf705b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae7f1ba7f7c4cad2fadb9506ebf705b4">&#9670;&nbsp;</a></span>calcError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::VectorXd ompl_interface::OrientationConstraint::calcError </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Ref&lt; const Eigen::VectorXd &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For inequality constraints: calculate the value of the parameter that is being constrained by the bounds. </p>
<p>In this orientation constraints case, it calculates the orientation of the end-effector. This error is then converted in generic equality constraints in the implementation of <code><a class="el" href="classompl__interface_1_1BaseConstraint.html#afa5077b9200a7bc625e2086419ebcad3">ompl_interface::BaseConstraint::function</a></code>.</p>
<p>This method can be bypassed if you want to override `ompl_interface::BaseConstraint::function directly and ignore the bounds calculation. </p>

<p>Reimplemented from <a class="el" href="classompl__interface_1_1BaseConstraint.html#a6001149aa171e9788b89623015fc3256">ompl_interface::BaseConstraint</a>.</p>

<p class="definition">Definition at line <a class="el" href="ompl__constraints_8cpp_source.html#l00316">316</a> of file <a class="el" href="ompl__constraints_8cpp_source.html">ompl_constraints.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classompl__interface_1_1OrientationConstraint_aae7f1ba7f7c4cad2fadb9506ebf705b4_cgraph.png" border="0" usemap="#classompl__interface_1_1OrientationConstraint_aae7f1ba7f7c4cad2fadb9506ebf705b4_cgraph" alt=""/></div>
<map name="classompl__interface_1_1OrientationConstraint_aae7f1ba7f7c4cad2fadb9506ebf705b4_cgraph" id="classompl__interface_1_1OrientationConstraint_aae7f1ba7f7c4cad2fadb9506ebf705b4_cgraph">
<area shape="rect" title="For inequality constraints: calculate the value of the parameter that is being constrained by the bou..." alt="" coords="5,103,207,144"/>
<area shape="rect" href="classompl__interface_1_1BaseConstraint.html#a7598bbbe35c6d8e9d11e91a1fdd5e2b7" title="Wrapper for forward kinematics calculated by MoveIt&#39;s Robot State." alt="" coords="255,103,481,144"/>
<area shape="rect" href="classmoveit_1_1core_1_1RobotState.html#a309800a933676917ea4848b972a4318b" title="Get the link transform w.r.t. the root link (model frame) of the RobotModel. This is typically the ro..." alt="" coords="551,37,736,79"/>
<area shape="rect" href="classompl__interface_1_1TSStateStorage.html#ab549564980e5309a0caca25a6c2290c7" title=" " alt="" coords="529,103,757,144"/>
<area shape="rect" href="classmoveit_1_1core_1_1RobotState.html#a564140d144754d149b292e70c4c59b55" title="Given positions for the variables that make up a group, in the order found in the group (including va..." alt="" coords="551,168,735,209"/>
<area shape="rect" href="classmoveit_1_1core_1_1RobotState.html#a867985359844193ea81c2d23ac2c49b4" title="Returns true if anything in this state is dirty." alt="" coords="805,5,989,47"/>
<area shape="rect" href="classmoveit_1_1core_1_1JointModel.html#a32646942dc054f77e3eff984affb7ced" title="Get the index of this joint within the robot model." alt="" coords="807,71,988,112"/>
<area shape="rect" href="classmoveit_1_1core_1_1JointModel.html#ac997d44f51ca03d13f0d54cf699e0662" title="Force the specified values to be inside bounds and normalized. Quaternions are normalized,..." alt="" coords="1037,71,1219,112"/>
</map>
</div>

</div>
</div>
<a id="a57fa947313f56b363c92fd673d7b0a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57fa947313f56b363c92fd673d7b0a4d">&#9670;&nbsp;</a></span>calcErrorJacobian()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::MatrixXd ompl_interface::OrientationConstraint::calcErrorJacobian </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Ref&lt; const Eigen::VectorXd &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For inequality constraints: calculate the Jacobian for the current parameters that are being constrained.</p><ul>
<li>This error jacobian, as the name suggests, is only the jacobian of the position / orientation / ... error. It does not take into account the derivative of the penalty functions defined in the <a class="el" href="classompl__interface_1_1Bounds.html" title="Represents upper and lower bound on the elements of a vector.">Bounds</a> class. This correction is added in the implementation of of <a class="el" href="classompl__interface_1_1BaseConstraint.html#af88434071b40f6dc11a3aa816b8adedb" title="Jacobian of the constraint function.">BaseConstraint::jacobian</a>. </li>
</ul>
</p>
<p>This method can be bypassed if you want to override `ompl_interface::BaseConstraint::jacobian directly and ignore the bounds calculation.</p>
<p>TODO(jeroendm), Maybe also use an output argument as in <code>ompl::base::Constraint::jacobian(x, out)</code> for better performance? </p>

<p>Reimplemented from <a class="el" href="classompl__interface_1_1BaseConstraint.html#a42229647f33044cb406359867107d41d">ompl_interface::BaseConstraint</a>.</p>

<p class="definition">Definition at line <a class="el" href="ompl__constraints_8cpp_source.html#l00323">323</a> of file <a class="el" href="ompl__constraints_8cpp_source.html">ompl_constraints.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classompl__interface_1_1OrientationConstraint_a57fa947313f56b363c92fd673d7b0a4d_cgraph.png" border="0" usemap="#classompl__interface_1_1OrientationConstraint_a57fa947313f56b363c92fd673d7b0a4d_cgraph" alt=""/></div>
<map name="classompl__interface_1_1OrientationConstraint_a57fa947313f56b363c92fd673d7b0a4d_cgraph" id="classompl__interface_1_1OrientationConstraint_a57fa947313f56b363c92fd673d7b0a4d_cgraph">
<area shape="rect" title="For inequality constraints: calculate the Jacobian for the current parameters that are being constrai..." alt="" coords="5,120,215,161"/>
<area shape="rect" href="namespaceompl__interface.html#aa050df2d2be7dfe8861febd1e0a6e90e" title="Return a matrix to convert angular velocity to angle&#45;axis velocity Based on: https://ethz...." alt="" coords="263,55,492,96"/>
<area shape="rect" href="classompl__interface_1_1BaseConstraint.html#a7598bbbe35c6d8e9d11e91a1fdd5e2b7" title="Wrapper for forward kinematics calculated by MoveIt&#39;s Robot State." alt="" coords="264,120,491,161"/>
<area shape="rect" href="classompl__interface_1_1BaseConstraint.html#aa35c8f5faf2694d11d3df29a3aef6a38" title="Calculate the robot&#39;s geometric Jacobian using MoveIt&#39;s Robot State." alt="" coords="264,201,491,243"/>
<area shape="rect" href="classmoveit_1_1core_1_1RobotState.html#a309800a933676917ea4848b972a4318b" title="Get the link transform w.r.t. the root link (model frame) of the RobotModel. This is typically the ro..." alt="" coords="561,37,747,79"/>
<area shape="rect" href="classompl__interface_1_1TSStateStorage.html#ab549564980e5309a0caca25a6c2290c7" title=" " alt="" coords="540,103,768,144"/>
<area shape="rect" href="classmoveit_1_1core_1_1RobotState.html#a564140d144754d149b292e70c4c59b55" title="Given positions for the variables that make up a group, in the order found in the group (including va..." alt="" coords="562,168,746,209"/>
<area shape="rect" href="classmoveit_1_1core_1_1RobotState.html#a867985359844193ea81c2d23ac2c49b4" title="Returns true if anything in this state is dirty." alt="" coords="837,5,1021,47"/>
<area shape="rect" href="classmoveit_1_1core_1_1JointModel.html#a32646942dc054f77e3eff984affb7ced" title="Get the index of this joint within the robot model." alt="" coords="839,71,1020,112"/>
<area shape="rect" href="classmoveit_1_1core_1_1JointModel.html#ac997d44f51ca03d13f0d54cf699e0662" title="Force the specified values to be inside bounds and normalized. Quaternions are normalized,..." alt="" coords="1091,71,1272,112"/>
<area shape="rect" href="classmoveit_1_1core_1_1RobotState.html#a3242f96101baaed7ce83881c67d182bc" title="Compute the Jacobian with reference to a particular point on a given link, for a specified group." alt="" coords="562,233,746,275"/>
<area shape="rect" href="classmoveit_1_1core_1_1JointModelGroup.html#a7da3fb24c0cc5344562fc35f37f51b01" title="Get a link by its name. Throw an exception if the link is not part of this group." alt="" coords="563,299,745,340"/>
<area shape="rect" href="classompl__interface_1_1BaseConstraint.html#af88434071b40f6dc11a3aa816b8adedb" title="Jacobian of the constraint function." alt="" coords="541,364,767,405"/>
<area shape="rect" href="classompl__interface_1_1BaseConstraint.html#a6001149aa171e9788b89623015fc3256" title="For inequality constraints: calculate the value of the parameter that is being constrained by the bou..." alt="" coords="816,396,1043,437"/>
<area shape="rect" href="classompl__interface_1_1BaseConstraint.html#a42229647f33044cb406359867107d41d" title="For inequality constraints: calculate the Jacobian for the current parameters that are being constrai..." alt="" coords="816,461,1043,503"/>
<area shape="rect" href="classompl__interface_1_1Bounds.html#a1a5cdca0339762dfcb065f6c7c125ae1" title="Derivative of the penalty function ^ | | &#45;1&#45;1&#45;1 0 0 0 +1+1+1 |&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;—&gt;" alt="" coords="841,265,1017,307"/>
<area shape="rect" href="classompl__interface_1_1Bounds.html#a4c92c925eecbe0c25d7f42553ed06ddc" title=" " alt="" coords="841,331,1017,372"/>
</map>
</div>

</div>
</div>
<a id="a99490c0da3ab91aba65211bd666d7d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99490c0da3ab91aba65211bd666d7d73">&#9670;&nbsp;</a></span>parseConstraintMsg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ompl_interface::OrientationConstraint::parseConstraintMsg </td>
          <td>(</td>
          <td class="paramtype">const moveit_msgs::msg::Constraints &amp;&#160;</td>
          <td class="paramname"><em>constraints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse bounds on orientation parameters from MoveIt's constraint message. </p>
<p>This can be non-trivial given the often complex structure of these messages. </p>

<p>Implements <a class="el" href="classompl__interface_1_1BaseConstraint.html#a21895199523312ca4b4647e63943998e">ompl_interface::BaseConstraint</a>.</p>

<p class="definition">Definition at line <a class="el" href="ompl__constraints_8cpp_source.html#l00307">307</a> of file <a class="el" href="ompl__constraints_8cpp_source.html">ompl_constraints.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classompl__interface_1_1OrientationConstraint_a99490c0da3ab91aba65211bd666d7d73_cgraph.png" border="0" usemap="#classompl__interface_1_1OrientationConstraint_a99490c0da3ab91aba65211bd666d7d73_cgraph" alt=""/></div>
<map name="classompl__interface_1_1OrientationConstraint_a99490c0da3ab91aba65211bd666d7d73_cgraph" id="classompl__interface_1_1OrientationConstraint_a99490c0da3ab91aba65211bd666d7d73_cgraph">
<area shape="rect" title="Parse bounds on orientation parameters from MoveIt&#39;s constraint message." alt="" coords="5,5,232,47"/>
<area shape="rect" href="namespaceompl__interface.html#a3010521aa3f126ab1b4c4c8027c19f34" title="Extract orientation constraints from the MoveIt message." alt="" coords="280,5,492,47"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>moveit_planners/ompl/ompl_interface/include/moveit/ompl_interface/detail/<a class="el" href="ompl__constraints_8h_source.html">ompl_constraints.h</a></li>
<li>moveit_planners/ompl/ompl_interface/src/detail/<a class="el" href="ompl__constraints_8cpp_source.html">ompl_constraints.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
