<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Low Level Controllers &mdash; MoveIt Documentation: Rolling  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/override.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="canonical" href="https://moveit.picknik.ai/rolling//rolling/doc/examples/controller_configuration/controller_configuration_tutorial.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Perception Pipeline Tutorial" href="../perception_pipeline/perception_pipeline_tutorial.html" />
    <link rel="prev" title="URDF and SRDF" href="../urdf_srdf/urdf_srdf_tutorial.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html">
            <img src="../../../_static/rolling-small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how_to_guides/how_to_guides.html">How-To Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how_to_contribute/how_to_contribute.html">Contributing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../examples.html#movegroup-ros-wrappers-in-c">MoveGroup - ROS Wrappers in C++</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#using-moveit-directly-through-the-c-api">Using MoveIt Directly Through the C++ API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../examples.html#integration-with-a-new-robot">Integration with a New Robot</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../setup_assistant/setup_assistant_tutorial.html">MoveIt Setup Assistant</a></li>
<li class="toctree-l3"><a class="reference internal" href="../urdf_srdf/urdf_srdf_tutorial.html">URDF and SRDF</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Low Level Controllers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#yaml-configuration">YAML Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#followjointtrajectory-controller-interface">FollowJointTrajectory Controller Interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#grippercommand-controller-interface">GripperCommand Controller Interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#optional-allowed-trajectory-execution-duration-parameters">Optional Allowed Trajectory Execution Duration Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-the-controller-launch-file">Create the Controller launch file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debugging-information">Debugging Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remapping-joint-states-topic">Remapping /joint_states topic</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trajectory-execution-manager-options">Trajectory Execution Manager Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-controller-manager">Example Controller Manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fake-controller-manager">Fake Controller Manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fake-controller-yaml-file">Fake Controller Yaml File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#controller-switching-and-namespaces">Controller Switching and Namespaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="#controllers-for-multiple-nodes">Controllers for Multiple Nodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../perception_pipeline/perception_pipeline_tutorial.html">Perception Pipeline Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hand_eye_calibration/hand_eye_calibration_tutorial.html">Hand-Eye Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ikfast/ikfast_tutorial.html">IKFast Kinematics Solver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../trac_ik/trac_ik_tutorial.html">TRAC-IK Kinematics Solver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">MoveIt Documentation: Rolling</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../examples.html">Examples</a> &raquo;</li>
      <li>Low Level Controllers</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros-planning/moveit2_tutorials/blob/main/doc/examples/controller_configuration/controller_configuration_tutorial.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             

<p>
  <strong>
    
    You're reading the documentation for a development version.
    For the latest released version, please have a look at <a href="../../../../foxy/index.html">Foxy</a>.
    
  </strong>
</p>


  <div class="section" id="low-level-controllers">
<h1>Low Level Controllers<a class="headerlink" href="#low-level-controllers" title="Permalink to this headline"></a></h1>
<p>MoveIt has access to many different controllers through a plugin interface inside the <a class="reference external" href="https://github.com/ros-planning/moveit/tree/master/moveit_plugins/moveit_ros_control_interface">MoveItControllerHandler</a> class. The MoveItControllerManager class is one of the options that is used to interact with a single ros_control node. MoveItControllerManager reads what controller(s) to use from a controllers.yaml file.</p>
<p>Here we will walk through configuring MoveIt with the controllers on your robot. We will assume that your robot offers a <code class="docutils literal notranslate"><span class="pre">FollowJointTrajectory</span></code> action service for the arms on your robot and (optionally) a <code class="docutils literal notranslate"><span class="pre">GripperCommand</span></code> service for your gripper. If your robot does not offer this we recommend the <a class="reference external" href="http://wiki.ros.org/ros_control">ROS control</a> framework for easily adding this functionality around your hardware communication layer.</p>
<div class="section" id="yaml-configuration">
<h2>YAML Configuration<a class="headerlink" href="#yaml-configuration" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">controllers.yaml</span></code> configuration file is located in the <code class="docutils literal notranslate"><span class="pre">robot_moveit_config/config</span></code> directory of your MoveIt robot config package. This specifies the controller configuration for your robot. Here’s an example file for configuring a <code class="docutils literal notranslate"><span class="pre">FollowJointTrajectory</span></code> action controller for the <code class="docutils literal notranslate"><span class="pre">panda_arm</span></code> and a <code class="docutils literal notranslate"><span class="pre">GripperCommand</span></code> gripper controller for its <code class="docutils literal notranslate"><span class="pre">hand</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">controller_list</span><span class="p">:</span>
 <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">panda_arm_controller</span>
   <span class="n">action_ns</span><span class="p">:</span> <span class="n">follow_joint_trajectory</span>
   <span class="nb">type</span><span class="p">:</span> <span class="n">FollowJointTrajectory</span>
   <span class="n">default</span><span class="p">:</span> <span class="n">true</span>
   <span class="n">joints</span><span class="p">:</span>
     <span class="o">-</span> <span class="n">panda_joint1</span>
     <span class="o">-</span> <span class="n">panda_joint2</span>
     <span class="o">-</span> <span class="n">panda_joint3</span>
     <span class="o">-</span> <span class="n">panda_joint4</span>
     <span class="o">-</span> <span class="n">panda_joint5</span>
     <span class="o">-</span> <span class="n">panda_joint6</span>
     <span class="o">-</span> <span class="n">panda_joint7</span>
 <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">hand_controller</span>
   <span class="n">action_ns</span><span class="p">:</span> <span class="n">gripper_action</span>
   <span class="nb">type</span><span class="p">:</span> <span class="n">GripperCommand</span>
   <span class="n">default</span><span class="p">:</span> <span class="n">true</span>
   <span class="n">parallel</span><span class="p">:</span> <span class="n">true</span>
   <span class="n">joints</span><span class="p">:</span>
     <span class="o">-</span> <span class="n">panda_finger_joint1</span>
     <span class="o">-</span> <span class="n">panda_finger_joint2</span>
</pre></div>
</div>
<p>There are many different parameters that can be used for different types of controllers.</p>
</div>
<div class="section" id="followjointtrajectory-controller-interface">
<h2>FollowJointTrajectory Controller Interface<a class="headerlink" href="#followjointtrajectory-controller-interface" title="Permalink to this headline"></a></h2>
<dl class="simple">
<dt>The parameters are:</dt><dd><ul class="simple">
<li><p><em>name</em>: The name of the controller.  (See debugging information below for important notes).</p></li>
<li><p><em>action_ns</em>: The action namespace for the controller. (See debugging information below for important notes).</p></li>
<li><p><em>type</em>: The type of action being used (here FollowJointTrajectory).</p></li>
<li><p><em>default</em>: The default controller is the primary controller chosen by MoveIt for communicating with a particular set of joints.</p></li>
<li><p><em>joints</em>: Names of all the joints that are being addressed by this interface.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="grippercommand-controller-interface">
<h2>GripperCommand Controller Interface<a class="headerlink" href="#grippercommand-controller-interface" title="Permalink to this headline"></a></h2>
<dl class="simple">
<dt>The parameters are:</dt><dd><ul class="simple">
<li><p><em>name</em>: The name of the controller.  (See debugging information below for important notes).</p></li>
<li><p><em>action_ns</em>: The action namespace for the controller. (See debugging information below for important notes).</p></li>
<li><p><em>type</em>: The type of action being used (here GripperCommand).</p></li>
<li><p><em>default</em>: The default controller is the primary controller chosen by MoveIt for communicating with a particular set of joints.</p></li>
<li><p><em>joints</em>: Names of all the joints that are being addressed by this interface.</p></li>
<li><p><em>command_joint</em>: The single joint, controlling the actual state of the gripper. This is the only value that is sent to the controller. Has to be one of the joints above. If not specified, the first entry in <em>joints</em> will be used instead.</p></li>
<li><p><em>parallel</em>: When this is set, <em>joints</em> should be of size 2, and the command will be the sum of the two joints.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="optional-allowed-trajectory-execution-duration-parameters">
<h2>Optional Allowed Trajectory Execution Duration Parameters<a class="headerlink" href="#optional-allowed-trajectory-execution-duration-parameters" title="Permalink to this headline"></a></h2>
<p>For each controller it is optionally possible to set the <em>allowed_execution_duration_scaling</em> and <em>allowed_goal_duration_margin</em> parameters. These are controller-specific overrides of the global values <em>trajectory_execution/allowed_execution_duration_scaling</em> and <em>trajectory_execution/allowed_goal_duration_margin</em>. As opposed to the global values, the contoller-specific ones cannot be dynamically reconfigured at runtime. The parameters are used to compute the allowed trajectory execution duration by scaling the expected execution duration and adding the margin afterwards. If this duration is exceeded the trajectory will be cancelled. The controller-specific parameters can be set as follows</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">controller_list</span><span class="p">:</span>
 <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">arm_controller</span>
   <span class="n">action_ns</span><span class="p">:</span> <span class="n">follow_joint_trajectory</span>
   <span class="nb">type</span><span class="p">:</span> <span class="n">FollowJointTrajectory</span>
   <span class="n">allowed_execution_duration_scaling</span><span class="p">:</span> <span class="mf">1.2</span>
   <span class="n">allowed_goal_duration_margin</span><span class="p">:</span> <span class="mf">0.5</span>
</pre></div>
</div>
</div>
<div class="section" id="create-the-controller-launch-file">
<h2>Create the Controller launch file<a class="headerlink" href="#create-the-controller-launch-file" title="Permalink to this headline"></a></h2>
<p>Now, create the controller launch file (call it <code class="docutils literal notranslate"><span class="pre">robot_moveit_controller_manager.launch.xml</span></code> where <code class="docutils literal notranslate"><span class="pre">robot</span></code> is the name of your robot as specified when you created your MoveIt robot config package).</p>
<p>Add the following lines to this file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;launch&gt;
 &lt;!-- Set the param that trajectory_execution_manager needs to find the controller plugin --&gt;
 &lt;arg name=&quot;moveit_controller_manager&quot; default=&quot;moveit_simple_controller_manager/MoveItSimpleControllerManager&quot; /&gt;
 &lt;param name=&quot;moveit_controller_manager&quot; value=&quot;$(arg moveit_controller_manager)&quot;/&gt;
 &lt;!-- load controller_list --&gt;
 &lt;rosparam file=&quot;$(find robot_moveit_config)/config/controllers.yaml&quot;/&gt;
&lt;/launch&gt;
</pre></div>
</div>
<p>MAKE SURE to replace <code class="docutils literal notranslate"><span class="pre">robot_moveit_config</span></code> with the correct name of your MoveIt robot config package.</p>
<p>Now, you should be ready to have MoveIt talk to your robot.</p>
</div>
<div class="section" id="debugging-information">
<h2>Debugging Information<a class="headerlink" href="#debugging-information" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">FollowJointTrajectory</span></code> or <code class="docutils literal notranslate"><span class="pre">GripperCommand</span></code> interfaces on your robot must be communicating in the namespace: <code class="docutils literal notranslate"><span class="pre">/name/action_ns</span></code>. In the above example, you should be able to see the following topics (using <em>rostopic list</em>) on your robot:</p>
<blockquote>
<div><ul class="simple">
<li><p>/panda_arm_controller/follow_joint_trajectory/goal</p></li>
<li><p>/panda_arm_controller/follow_joint_trajectory/feedback</p></li>
<li><p>/panda_arm_controller/follow_joint_trajectory/result</p></li>
<li><p>/hand_controller/gripper_action/goal</p></li>
<li><p>/hand_controller/gripper_action/feedback</p></li>
<li><p>/hand_controller/gripper_action/result</p></li>
</ul>
</div></blockquote>
<p>You should also be able to see (using <code class="docutils literal notranslate"><span class="pre">rostopic</span> <span class="pre">info</span> <span class="pre">topic_name</span></code>) that the topics are published/subscribed to by the controllers on your robot and also by the <strong>move_group</strong> node.</p>
</div>
<div class="section" id="remapping-joint-states-topic">
<h2>Remapping /joint_states topic<a class="headerlink" href="#remapping-joint-states-topic" title="Permalink to this headline"></a></h2>
<p>When you run a <a class="reference internal" href="../move_group_interface/move_group_interface_tutorial.html"><span class="doc">move group node</span></a>, you may need to remap the topic /joint_states to /robot/joint_states, otherwise MoveIt won’t have feedback from the joints. To do this remapping you could make a simple launch file for your node as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">node</span> <span class="n">pkg</span><span class="o">=</span><span class="s2">&quot;moveit_ros_move_group&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;move_group&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;any_name&quot;</span> <span class="n">output</span><span class="o">=</span><span class="s2">&quot;screen&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">remap</span> <span class="n">from</span><span class="o">=</span><span class="s2">&quot;joint_states&quot;</span> <span class="n">to</span><span class="o">=</span><span class="s2">&quot;robot/joint_states&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">node</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Or you can make a subscriber with the correct topic name and then ensure that the starting robot state for your move group corresponds to a correct joints angle by using the call back of this subscriber.</p>
</div>
<div class="section" id="trajectory-execution-manager-options">
<h2>Trajectory Execution Manager Options<a class="headerlink" href="#trajectory-execution-manager-options" title="Permalink to this headline"></a></h2>
<p>There are several options for tuning the behavior and safety checks of the execution pipeline in MoveIt. In your <code class="docutils literal notranslate"><span class="pre">moveit_config</span></code> package edit the <code class="docutils literal notranslate"><span class="pre">trajectory_execution.launch.xml</span></code> file to change the following parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">execution_duration_monitoring</span></code>: when false, will not throw error is trajectory takes longer than expected to complete at the low-level controller side</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">allowed_goal_duration_margin</span></code>: Allow more than the expected execution time before triggering a trajectory cancel (applied after scaling)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">allowed_start_tolerance</span></code>: Allowed joint-value tolerance for validation that trajectory’s first point matches current robot state. If set to zero will skip waiting for robot to stop after execution</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="example-controller-manager">
<h2>Example Controller Manager<a class="headerlink" href="#example-controller-manager" title="Permalink to this headline"></a></h2>
<p>MoveIt controller managers, somewhat a misnomer, are the interfaces to your custom low level controllers. A better way to think of them are <em>controller interfaces</em>. For most use cases, the included <a class="reference external" href="https://github.com/ros-planning/moveit2/blob/main/moveit_plugins/moveit_simple_controller_manager">MoveItSimpleControllerManager</a> is sufficient if your robot controllers already provide ROS actions for FollowJointTrajectory. If you use <em>ros_control</em>, the included <a class="reference external" href="https://github.com/ros-planning/moveit2/blob/main/moveit_plugins/moveit_ros_control_interface">MoveItRosControlInterface</a> is also ideal.</p>
<p>However, for some applications you might desire a more custom controller manager. An example template for starting your custom controller manager is provided <a class="reference external" href="https://github.com/ros-planning/moveit2_tutorials/blob/main/doc/examples/controller_configuration/src/moveit_controller_manager_example.cpp">here</a>.</p>
</div>
<div class="section" id="fake-controller-manager">
<h2>Fake Controller Manager<a class="headerlink" href="#fake-controller-manager" title="Permalink to this headline"></a></h2>
<p>MoveIt comes with a series of fake trajectory controllers that can be used for simulations.
For example, the <code class="docutils literal notranslate"><span class="pre">demo.launch</span></code> generated by MoveIt’s setup assistant, employs fake controllers for nice visualization in RViz.
For configuration, edit the file <code class="docutils literal notranslate"><span class="pre">config/fake_controllers.yaml</span></code>, and adjust the desired controller type.
The following controllers are available:</p>
<ul class="simple">
<li><p><strong>interpolate</strong>: perform smooth interpolation between via points - the default for visualization</p></li>
<li><p><strong>via points</strong>:  traverse via points, w/o interpolation in between - useful for visual debugging</p></li>
<li><p><strong>last point</strong>:  warp directly to the last point of the trajectory - fastest method for off-line benchmarking</p></li>
</ul>
</div>
<div class="section" id="fake-controller-yaml-file">
<h2>Fake Controller Yaml File<a class="headerlink" href="#fake-controller-yaml-file" title="Permalink to this headline"></a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10 (Hz, used for interpolation controller)</span><span class="w"></span>
<span class="nt">controller_list</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fake_arm_controller</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">interpolate | via points | last point</span><span class="w"></span>
<span class="w">    </span><span class="nt">joints</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">joint_1</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">joint_2</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">joint_3</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">joint_4</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">joint_5</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">joint_6</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fake_gripper_controller</span><span class="w"></span>
<span class="w">    </span><span class="nt">joints</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">[]</span><span class="w"></span>
</pre></div>
</div>
<p>In order to load an initial pose, one can have a list of (group, pose) pairs as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">initial</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arm</span><span class="w"></span>
<span class="w">    </span><span class="nt">pose</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">ready</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="controller-switching-and-namespaces">
<h2>Controller Switching and Namespaces<a class="headerlink" href="#controller-switching-and-namespaces" title="Permalink to this headline"></a></h2>
<p>All controller names get prefixed by the namespace of their ros_control node. For this reason controller names should not contain slashes, and can’t be named <code class="docutils literal notranslate"><span class="pre">/</span></code>. For a particular node MoveIt can decide which controllers to have started or stopped. Since only controller names with registered allocator plugins are handled over MoveIt, MoveIt takes care of stopping controllers based on their claimed resources if a to-be-started controller needs any of those resources.</p>
</div>
<div class="section" id="controllers-for-multiple-nodes">
<h2>Controllers for Multiple Nodes<a class="headerlink" href="#controllers-for-multiple-nodes" title="Permalink to this headline"></a></h2>
<p>MoveItMultiControllerManager can be used for more than one ros_control nodes. It works by creating several MoveItControllerManagers, one for each node. It instantiates them with their respective namespace and takes care of proper delegation. To use it must be added to the launch file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">param</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;moveit_controller_manager&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;moveit_ros_control_interface::MoveItMultiControllerManager&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../urdf_srdf/urdf_srdf_tutorial.html" class="btn btn-neutral float-left" title="URDF and SRDF" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../perception_pipeline/perception_pipeline_tutorial.html" class="btn btn-neutral float-right" title="Perception Pipeline Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, PickNik Robotics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: main
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Releases</dt>
        <dd><a href="../../../../foxy/index.html">Foxy (latest)</a></dd>
    </dl>
    <dl>
      <dt>In Development</dt>
      <dd><a href="controller_configuration_tutorial.html">Main</a></dd>
    </dl>
    <dl>
      <dt>ROS 1</dt>
      <dd><a href="https://ros-planning.github.io/moveit_tutorials/">Noetic</a></dd>
      <dd><a href="http://docs.ros.org/en/melodic/api/moveit_tutorials/html/index.html">Melodic</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-108532843-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-108532843-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>